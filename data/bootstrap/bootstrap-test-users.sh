#!/bin/bash

#108.61.251.93 = vultr AU bardly host
#104.207.151.30 = vultr US bardly host
BARDLY_HOST="104.207.151.30"
BARDLY_PORT="9000"
USER="recruiter1@gmail.com"
USER_PASSWORD="12345678"
DEV_USER="developer1@gmail.com"
DEV_USER_PASSWORD="12345678"

##create developer users
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/users/signup?modelId=%2Fservices%2Frecruitunit%2Fusers%2FrecruitUnitUserService.controller.js' -H 'Content-Type: application/json' --data-binary '{"email":"'"$DEV_USER"'","password":"12345678","displayName":"developer1","jobRole":"developer","key":"123456789"}' --compressed
#curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/users/signup?modelId=%2Fservices%2Frecruitunit%2Fusers%2FrecruitUnitUserService.controller.js' -H 'Content-Type: application/json' --data-binary '{"email":"developer2@gmail.com","password":"12345678","displayName":"developer2","jobRole":"developer","key":"123456789"}' --compressed
#
##create recruiter users
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/users/signup?modelId=%2Fservices%2Frecruitunit%2Fusers%2FrecruitUnitUserService.controller.js' -H 'Content-Type: application/json' --data-binary '{"email":"'"$USER"'","password":"12345678","displayName":"recruiter1","jobRole":"recruiter","key":"123456789"}' --compressed
#curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/users/signup?modelId=%2Fservices%2Frecruitunit%2Fusers%2FrecruitUnitUserService.controller.js' -H 'Content-Type: application/json' --data-binary '{"email":"recruiter2@gmail.com","password":"12345678","displayName":"recruiter2","jobRole":"recruiter","key":"123456789"}' --compressed
#
##signin users (get auth token for jwt)
JWT_TOKEN=$(curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/users/signin' -H 'Content-Type: application/json' --data-binary '{"username":"'"$USER"'","password":"'"$USER_PASSWORD"'"}' | jq -r '.token')
DEV_JWT_TOKEN=$(curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/users/signin' -H 'Content-Type: application/json' --data-binary '{"username":"'"$DEV_USER"'","password":"'"$DEV_USER_PASSWORD"'"}' | jq -r '.token')
echo "JWT token:"
echo "$JWT_TOKEN"
#
##get dev user details (i.e. userGUID to add to /createjobsubmission)
#curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/users/getuser/developer1@gmail.com' -H 'Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VybmFtZSI6ImRldmVsb3BlcjFAZ21haWwuY29tIiwiY29va2llIjoiQXV0aFNlc3Npb249WkdWMlpXeHZjR1Z5TVVCbmJXRnBiQzVqYjIwNk5Ua3pNMFk0UmtVNjhhY2dTM2dvRExOclV1clRLTzJLc0pDOURHNDsgVmVyc2lvbj0xOyBQYXRoPS87IEh0dHBPbmx5Iiwib2siOnRydWUsInJvbGVzIjpbImVkaXRvciIsImRldmVsb3BlciJdLCJpc0NvbXBhcmlzb25Gb3JtRW5hYmxlZCI6dHJ1ZSwidXNlckd1aWQiOiJCeVF5YkprZi0iLCJpcCI6Ijo6ZmZmZjoxMzkuMjE2LjU3LjExNiIsImlhdCI6MTQ5NjU3ODMwMiwiZXhwIjoxNDk5MTcwMzAyfQ.0svfaSH0C8vWrmb4L5cOi33n1gyS7wKNNDV-ywzB5fU'
DEV_USERGUID=$(curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/users/getuser/'"$DEV_USER"'' -H 'Authorization: Bearer '"$DEV_JWT_TOKEN"'' | jq -r '.data.userGuid')
#
##developer1 create comparison form (update Auth token for new users)
curl -X PUT 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/articles/createArticle?modelId=%2Fservices%2Frecruitunit%2Farticles%2FrecruitUnitContentService.controller.js&modelType=%2Fmodels%2FRecruitUnit.ComparisonTest.js' -H 'Authorization: Bearer '"$JWT_TOKEN"'' -H 'Content-Type: application/json' --data-binary '{"roleType":{"value":["contract"],"disabled":false,"rule":"assertStringContains"},"payBracketLower":{"value":130,"disabled":false,"rule":"assertRangeGreaterThan"},"skills":{"value":["java","html","node","AWS","AEM"],"disabled":false,"rule":"assertArrayContains"},"authorEmail":"'"$DEV_USER"'","createdDate":1496408355967,"locationDescription":{"value":["Melbourne"],"disabled":false,"rule":"assertStringContains"},"published":true}' --compressed
#
##recruiter1 create job content for developer1
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Auto 3. Pass test for job recruiter1 with Melbourne contract job","currency":"AUD","roleType":"Contract","payBracketLower":130,"payBracketUpper":150,"locationDescription":"Great location in the heart of the Melbourne CBD","skills":["java","aem","aws","foo","bar"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Auto 4. recruiter1 sydney test job","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"Great Sydney location","skills":["java","aem","aws","foo","bar"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"recruiter1 akajhf askjhfsa sakdjfhskfjh","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"Great Sydney location","skills":["javascript","go","aws","asaf","basFar","sdfsf", "swefqwf", "wwfj"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Suspendisse rhoncus, tortor ut sagittis ornare","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"North of the river rooftop cinema, brunswick and brunswick st food bloggers","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"In eleifend, turpis in sagittis rutrum, sem est maximus ex","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"Bourke st mall north melbourne shinboners, melb neatly trimmed moustaches fed square ","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Quisque dui mi, vestibulum at lacus ac, dapibus sollicitudin nunc.","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"hipsters melbourne central swanston etihad stadium mamasita, flemington racecourse brunswick and brunswick st chapel street","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Duis sed dolor mi. Nulla justo diam, suscipit non pharetra sit amet, blandit a nisi.","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"the crazy wing challenge footy, graffiti worlds most liveable city the G south melb dim sims richmond tigers","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Maecenas sapien mi, dignissim elementum sapien sed, ultrices aliquet tortor. ","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"Temper trap spring racing carnival, citylink swanston collins place melbourne cricket ground secret laneway bars","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Sed vehicula ante porttitor porta pellentesque.","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"the rebels pellegrinis middle-aged lycra clad cyclists south melb dim sims footscray hobos","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Urna purus cursus magna, a viverra sem lorem sit amet dolor.","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"essendon bombers the croft institute cold drip coffee chapel street don dons, shane warne cate blanchette the hawks","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Praesent vel varius nibh, in volutpat lectus.","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"Bill clinton ate two bowls empire of the sun, movida NGV culture fix the crazy wing challenge cookie brunswick st hippy","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Vestibulum a consequat lacus, id mattis dui.","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"south of the river the corner hotel temper trap warehouse chic rooftop bars","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Aliquam sem enim, molestie ac porta et, vehicula vel risus. In non nisl a sapien cursus gravida.","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"the espy ball mamasita the G chopper read, laksa king spring racing carnival shane warne","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Praesent vel varius nibh, in volutpat lectus.","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"Collingwood ferals a macaron connoisseur, posh brighton dont paint over the banksys melbourne central","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Proin ex sapien, volutpat vel convallis id, pretium sit amet quam.","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"Posh brighton old melbourne gaol, formula one grand prix shane warne","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Donec feugiat est odio, quis posuere ligula","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"richmond tigers brunswick st hippy don dons MSAC ac/dc, brunswick and brunswick st bill","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Aenean non ullamcorper nisl. In et ultricies quam, at finibus nisi.","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"posh brighton dont paint over the banksys melbourne central formula one grand prix rooftop cinema","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Suspendisse fermentum molestie leo elementum lobortis.","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"the espy spring racing carnival south melb dim sims food bloggers vic market","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"quis condimentum eros cursus ac. In nec pretium ante.","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"dont paint over the banksys four seasons in one day, rocking out the espy","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Fusce eget ante sollicitudin quam euismod posuere. Proin ex sapien.","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"The australian open ball, fed square spiegeltent victory vs heart spencer st station the bulldogs","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Pellentesque sit amet ullamcorper magna, ut dapibus nulla.","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"Laksa king north melbourne shinboners, running the tan","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"ultrices ornare maximus. Aliquam accumsan imperdiet ligula","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"Tullamarine mamasita, the croft institute the borek woman","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"mi metus et ante. In hac habitasse platea dictumst.","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"trams aami park the emerald peacock","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"Praesent venenatis, felis quis pellentesque posuere, ante tortor sodales","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"storm temper trap, vic market north of the river ","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed
curl 'http://'"$BARDLY_HOST"':'"$BARDLY_PORT"'/api/recruitunit/articles/createjobsubmission' -X PUT -H 'Content-Type: application/json' -H 'Authorization: Bearer '"$JWT_TOKEN"'' --data-binary '{"jobDescription":"gravida. Pellentesque sit amet ullamcorper magna","currency":"AUD","roleType":"Contract","payBracketLower":140,"payBracketUpper":160,"locationDescription":"brunswick and brunswick st Rod Laver the australian open","skills":["C++","C#","aws","svsnnds","sasadfbbdfs","erttert", "kfghjjfg", "badfeh"],"submitTo":"'"$DEV_USERGUID"'","authorEmail":"'"$USER"'","published":true}' --compressed

